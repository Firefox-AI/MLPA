version: "3.8"
services:
  mlpa:
    build: .
    image: mlpa:latest
    container_name: mlpa
    platform: linux/amd64
    ports:
      - "8080:8080"
    environment:
      - PG_DB_URL=${PG_DB_URL}
      - MASTER_KEY=${MASTER_KEY}
      - LITELLM_API_BASE=${LITELLM_API_BASE}
      - LITELLM_DB_NAME=${LITELLM_DB_NAME}
      - CHALLENGE_EXPIRY_SECONDS=${CHALLENGE_EXPIRY_SECONDS}
      - PORT=${PORT}
      - OPENAI_API_KEY=${OPENAI_API_KEY}
      - APP_BUNDLE_ID=${APP_BUNDLE_ID}
      - APP_DEVELOPMENT_TEAM=${APP_DEVELOPMENT_TEAM}
      - APP_ATTEST_DB_NAME=${APP_ATTEST_DB_NAME}
      - CLIENT_ID=${CLIENT_ID}
      - CLIENT_SECRET=${CLIENT_SECRET}
      - DEBUG=${DEBUG}
      - MODEL_NAME=${MODEL_NAME}
      - TEMPERATURE=${TEMPERATURE}
      - TOP_P=${TOP_P}
